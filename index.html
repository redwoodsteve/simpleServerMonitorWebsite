<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="robots" content="noindex, nofollow">

		<style>
			.stats {
				width: 100%;
			}
			.resourceDisplay {
				width: 50px;
				height: 50px;
				background-color: antiquewhite;
				border-radius: 10%;
				display: inline-block;
				margin: 10px;
			}
			.resourceDisplay h2 {
				text-align: center;
				margin: 0;
			}
			.resourceDisplay p {
				text-align: center;
				margin: 0;
			}
			.bl {
				list-style-type: none;
				padding: 0;
				margin: auto;
			}
		</style>
		<title>Simple server monitor</title>
	</head>
	<body>
		<h1 id="serverName">loading..</h1>
		<div class="stats">
			<div id="systemCPUdisplay" class="resourceDisplay">
				<ol class="bl">
					<li><h2>0%</h2></li>
					<li><p>cpu</p></li>
				</ol>
				
				
			</div>
			<div id="systemRAMdisplay" class="resourceDisplay">
				<h2>0%</h2>
				<p>ram</p>
			</div>
		</div>
		<script defer type="text/javascript">
			setInterval(function() {
				let http = new XMLHttpRequest();
				http.open("GET", window.location.href + "performanceDetails");
				http.setRequestHeader("Content-Type", "application/json");
				http.overrideMimeType("application/json");
				http.send();
				http.onreadystatechange = function(e) {
					if (http.readyState == 4) {
						const response = JSON.parse(http.responseText);
				document.getElementById("serverName").innerText = response.name;
					}
				}
			}, 1000)
		</script>
	</body>
</html>
